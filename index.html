<html>
	<head>
		<title>The Caesar Cipher</title>
		<link type="text/css" rel="stylesheet" href="style.css"/>
	</head>
	<body>
		<diV class="wrapper">
			<h1>Caesar Ciphers: Encrypting and Decrypting</h1>
			<div class="container">
			<div class="key"><input type="number" placeholder="Enter key" id="num"/></div>
				<div class="encrypt">
					<h3>Encryption</h3>
					<input type="text" placeholder="Enter Plain Text" id="plain1"/>
					<button type="button" id="encryptBtn">Encrypt</button>
					<input type="text" placeholder="Cipher Text" id="cipher1"/>
				</div>
				<div class="decrypt">
					<h3>Decryption</h3>
					<input type="text" placeholder="Enter Cipher Text" id="cipher2"/>
					<button type="button" id="decryptBtn">Decrypt</button>
					<input type="text" placeholder="Plain Text" id="plain2"/>
				</div>
			</div>

		</diV>
	</body>


	<script type="text/javascript">

	var plain1 = document.getElementById('plain1');
	var cipher1 = document.getElementById('cipher1');
	var cipher2 = document.getElementById('cipher2');
	var plain2 = document.getElementById('plain2');
	var encryptBtn = document.getElementById('encryptBtn');
	var decryptBtn = document.getElementById('decryptBtn');
	var num = document.getElementById('num');

	function isUpper(ch) {
		return (ch.charCodeAt(0) > 64 && ch.charCodeAt(0) < 91);
	}

	function isLower(ch) {
		return (ch.charCodeAt(0) > 96 && ch.charCodeAt(0) < 123);
	}

	encryptBtn.addEventListener("click", function() {
		crypt(parseInt(num.value),plain1,cipher1);
	},false);

	decryptBtn.addEventListener("click", function() {
		crypt(parseInt(num.value) * -1, cipher2, plain2);
	},false);

	function crypt(k, plain, cipher) {
		var a = [];
		var x;

		for(var i = 0; i < plain.value.length; i++) {

			var ch = plain.value.charAt(i);
			x = (ch.charCodeAt(0) + k);
			if (isUpper(ch))  {
				
				if( x > 90 ) {
					x -= 26;
				}

				if(x < 65) {
					x += 26;
				}
				
				a.push(String.fromCharCode(x));
			} else if (isLower(ch))  {
				if( x > 122 ) {
					x -= 26;
				}

				if(x < 97) {
					x += 26;
				}
				
				a.push(String.fromCharCode(x));
			}
		}

		cipher.value = a.join('');
	}
	</script>
</html>